<?xml version="1.0" encoding="utf-8"?>

<log4net>
    <!-- File Appender (Rotates logs daily) -->
    <appender name="RollingLogFileAppender" type="log4net.Appender.RollingFileAppender">
        <file value="Logs/OderManagementAPI.log" />  <!-- Active log file -->
        <appendToFile value="true" />
        <rollingStyle value="Date" />
        <datePattern value="_yyyy-MM-dd'.log'" />  <!-- Corrected format -->
        <preserveLogFileNameExtension value="true" />
        <staticLogFileName value="true" />
        <layout type="log4net.Layout.PatternLayout">
            <conversionPattern
                value="%date [%thread] [%property{traceId},%property{spanId}] %-5level%logger - %message%newline" />
        </layout>
    </appender>

    <!-- Console Appender -->
    <appender name="ConsoleAppender" type="log4net.Appender.ConsoleAppender">
        <layout type="log4net.Layout.PatternLayout">
            <conversionPattern
                value="%date [%thread] [%property{traceId},%property{spanId}] %-5level%logger - %message%newline" />
        </layout>
        <filter type="log4net.Filter.LevelRangeFilter">
            <levelMin value="INFO" /> <!-- Only logs of INFO level and above -->
            <levelMax value="FATAL" /> <!-- Include all levels up to FATAL -->
        </filter>
    </appender>

    <root>
        <level value="INFO" />
        <appender-ref ref="RollingLogFileAppender" />
        <appender-ref ref="ConsoleAppender" />
    </root>
</log4net>